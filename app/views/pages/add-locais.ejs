<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        label {
            font-weight: bold;
            margin-right: 10px;
            display: block;
            margin-bottom: 10px;
        }
 
        /* Definindo o layout da página */
 
        html, body {
            height: 100%;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
        }
 
        /* Estilizando o botão de imagem */
        #fileImage {
            cursor: pointer;
            display: block;
            margin: 10px 0;
        }
 
        .progress-bar {
            margin-top: 10px;
            width: 100%;
            height: 20px;
            background-color: #ddd;
        }
 
        .progress-bar span {
            display: block;
            height: 100%;
            background-color: #4caf50;
            width: 0%;
        }
 
        #result {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <main>
        <section id="info_local">
 
            <label for="nome_local">Nome do Local:</label>
            <input type="name" name="nome_local" id="nome_local">
 
            <label for="local_category">Selecione a categoria do seu local:</label>
            <select id="local_category" name="local_category">
                <option value="">Selecione uma opção</option>
                <option value="basquete">Basquete</option>
                <option value="futebol">Futebol</option>
                <option value="volei">Volei</option>
                <!-- Add more options as needed -->
            </select>
 
            <label for="desc_local">Descrição:</label>
            <input type="text" name="desc_local" id="desc_local">
        </section>
 
        <section id="add_img_local">
            <form id="uploadForm" enctype="multipart/form-data">
                <input type="file" id="fileInput" name="image" accept="image/*" style="display: none;">
                <!-- Use uma imagem como botão para selecionar o arquivo -->
                <img src="upload-icon.png" alt="Escolher Arquivo" id="fileImage">
                <button type="submit">Enviar</button>
            </form>
            <div class="progress-bar">
                <span id="progress"></span>
            </div>
            <div id="result"></div>
        </section>

        <section class="cordenadas">
            <form>
                <label for="latitude">latitude</label>
            <input id="latd_select" type="text">
            <label for="latitude">longitude</label>
            <input id="long_select" type="text">
            </form>
        </section>
    
    </main>
 
    <script>
        document.getElementById('fileImage').addEventListener('click', function() {
            document.getElementById('fileInput').click();
        });
 
        document.getElementById('uploadForm').addEventListener('submit', function(e) {
            e.preventDefault();
           
            const formData = new FormData();
            const fileInput = document.getElementById('fileInput');
           
            if (fileInput.files.length === 0) {
                alert('Por favor, selecione uma imagem.');
                return;
            }
           
            formData.append('image', fileInput.files[0]);
           
            fetch('/upload', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => response.json())
            .then(data => {
                document.getElementById('result').innerText = `Imagem enviada com sucesso: ${data.filePath}`;
            }).catch(error => {
                console.error('Erro:', error);
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const lat = localStorage.getItem('latitude');
            const lng = localStorage.getItem('longitude');
   
            if (lat && lng) {
                console.log(`Latitude: ${lat}, Longitude: ${lng}`);
                // Faça algo com a latitude e longitude
            } else {
                console.error('Latitude e Longitude não disponíveis.');
            }
   
            // Limpar os dados do localStorage se não forem mais necessários
            // localStorage.removeItem('latitude');
            // localStorage.removeItem('longitude');
        });
    </script>
   
</body>
</html>
 
 
<!-- const express = require('express');
const multer = require('multer');
const path = require('path');
const app = express();
 
// Configuração do Multer para salvar arquivos na pasta 'uploads'
const upload = multer({
    dest: 'uploads/', // Pasta onde os arquivos serão salvos
    limits: {
        fileSize: 2 * 1024 * 1024 // Limite de tamanho de 2MB
    },
    fileFilter(req, file, cb) {
        if (!file.originalname.match(/\.(jpg|jpeg|png)$/)) {
            return cb(new Error('Por favor, envie uma imagem JPEG ou PNG.'));
        }
        cb(null, true);
    }
});
 
app.use(express.static('public'));
 
// Rota para upload de arquivos
app.post('/upload', upload.single('image'), (req, res) => {
    if (!req.file) {
        return res.status(400).json({ error: 'Nenhum arquivo enviado.' });
    }
    res.json({ filePath: `/uploads/${req.file.filename}` });
});
 
// Rota para servir arquivos estáticos
app.use('/uploads', express.static('uploads'));
 
// Inicializar o servidor
const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
    console.log(`Servidor rodando na porta ${PORT}`);
}); -->
